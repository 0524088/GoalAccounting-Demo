<!doctype html>
<html lang="zh-TW" dir="ltr">
    <head>
        <meta charset="UTF-8" />
        <title>記帳 App</title>
        <meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />

        <script type="module" src="https://unpkg.com/@ionic/pwa-elements@latest/dist/ionicpwaelements/ionicpwaelements.esm.js"></script>
        <script nomodule src="https://unpkg.com/@ionic/pwa-elements@latest/dist/ionicpwaelements/ionicpwaelements.js"></script>
        <link rel="icon" type="image/x-icon" href="./assets/favicon.5f54aa43.ico" />
        <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIkFwcCIsCiAgInNob3J0X25hbWUiOiAiQXBwIiwKICAic3RhcnRfdXJsIjogImluZGV4Lmh0bWwiLAogICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLAogICJpY29ucyI6IFt7CiAgICAic3JjIjogImFzc2V0cy9pbWdzL2xvZ28ucG5nIiwKICAgICJzaXplcyI6ICI1MTJ4NTEyIiwKICAgICJ0eXBlIjogImltYWdlL3BuZyIKICB9XSwKICAiYmFja2dyb3VuZF9jb2xvciI6ICIjMzFkNTNkIiwKICAidGhlbWVfY29sb3IiOiAiIzMxZDUzZCIKfQo=" />

        <!-- Bootstrap 5 -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

        
        
        
      <script type="module" crossorigin src="./assets/index.dfc39263.js"></script>
      <link rel="stylesheet" href="./assets/index.b4fd8a32.css">
    </head>

    <body>
        <!-- 版本號 -->
        <div class="version-label">Version <span id="app-version">0.0.0</span></div>
        
        <!-- app 啟動時的 loading 頁 -->
        <div id="app-loading">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" width="200" height="200" style="shape-rendering: auto; display: block; background: transparent;" xmlns:xlink="http://www.w3.org/1999/xlink">
                <g>
                    <circle stroke-width="2" stroke="#1c79c0" fill="none" r="0" cy="50" cx="50">
                        <animate begin="0s" calcMode="spline" keySplines="0 0.2 0.8 1" keyTimes="0;1" values="0;40" dur="2s" repeatCount="indefinite" attributeName="r"></animate>
                        <animate begin="0s" calcMode="spline" keySplines="0.2 0 0.8 1" keyTimes="0;1" values="1;0" dur="2s" repeatCount="indefinite" attributeName="opacity"></animate>
                    </circle>
                    <circle stroke-width="2" stroke="#0dd3ff" fill="none" r="0" cy="50" cx="50">
                        <animate begin="-1s" calcMode="spline" keySplines="0 0.2 0.8 1" keyTimes="0;1" values="0;40" dur="2s" repeatCount="indefinite" attributeName="r"></animate>
                        <animate begin="-1s" calcMode="spline" keySplines="0.2 0 0.8 1" keyTimes="0;1" values="1;0" dur="2s" repeatCount="indefinite" attributeName="opacity"></animate>
                    </circle>
                    <g></g>
                </g><!-- [ldio] generated by https://loading.io -->
            </svg>
            <span>loading</span>
        </div>

        <!-- app -->
        <div id="app" class="d-none">
            <!-- home.items 長按選取時會跳出的 nav -->
            <div id="item-main-nav" class="h1 p-3 bg-dark d-flex align-items-center justify-content-between text-light d-none">
                <div class="d-flex align-items-center gap-4">
                    <i class="bi bi-x-lg item-main-nav-btn" data-action="close"></i>
                    <lable class="count" data-count="0">已選取 0 項</lable>
                </div>
                <div class="d-flex align-items-center gap-2">
                    <i class="bi bi-trash3-fill item-main-nav-btn" data-action="remove"></i>
                    <i class="bi bi-check-square item-main-nav-btn" data-action="select_all"></i>
                    <!--
                    <i class="bi bi-three-dots item-main-nav-btn" data-bs-toggle="dropdown"></i>
                    <ul class="dropdown-menu item-setting-dropdown">
                        <li><a class="dropdown-item fw-bold h5" data-action="detail"><i class="bi bi-journal-text"></i>&nbsp詳細</a></li>
                        <li><a class="dropdown-item fw-bold h5" data-action="rename"><i class="bi bi-pencil-square"></i>&nbsp;重新命名</a></li>
                        <li><a class="dropdown-item fw-bold h5 text-danger" data-action="delete"><i class="bi bi-trash3-fill"></i>&nbsp;刪除</a></li>
                    </ul>
                    -->
                </div>
            </div>

            <!-- 側選單 (暫未用到) -->
            <div class="offcanvas offcanvas-start bg-blue w-60vw" id="slideMenu" tabindex="-1">
                <div class="offcanvas-body">
                    <ul class="navbar-nav justify-content-end">
                        <li class="nav-item h2">
                            <a class="nav-link active" aria-current="page" href="#" data-nav-belong="main" data-tab-target="#home"><span class="text-light"><i class="text-light bi bi-bank2"></i> 總覽</span></a>
                        </li>
                        <li class="nav-item h2">
                            <a class="nav-link" aria-current="page" href="#" data-nav-belong="sub" data-bs-toggle="modal" data-bs-target="#accountingDetailModal"><span class="text-light"><i class="bi bi-coin"></i> 記帳細項</span></a>
                        </li>
                        <li class="nav-item h2">
                            <a class="nav-link" aria-current="page" href="#" data-nav-belong="sub" data-tab-target="#setting"><span class="text-light"><i class="bi bi-gear-fill"></i> 設定</span></a>
                        </li>
                        <li class="nav-item h2">
                            <a class="nav-link" aria-current="page" href="#" data-nav-belong="sub" data-tab-target="#export"><span class="text-light"><i class="bi bi-file-earmark-arrow-down-fill"></i> 匯出資料</span></a>
                        </li>
                    </ul>
                </div>
            </div>

            <div style="height: 8vh !important;"></div>

            <!-- 內容 -->
            <div class="container-sm h-82vh">
                <!-- tab -->
                <div class="tab-content">
                    <!-- 總覽 -->
                    <div class="tab-pane fade show active" id="home">
                        <div class="container-fluid data-content transparent-scroll px-0 h-82vh">
                            <div class="d-flex align-items-end justify-content-start">
                                <div id="carouselData" class="d-flex align-items-center justify-content-between h1 fw-bold" data-belong="sub" data-bs-touch="false" data-bs-interval="false">
                                    <button class="carouselDate carousel-control carousel-control-prev" type="button" data-bs-target="#carouselData" data-bs-slide="prev">
                                        <i class="bi bi-caret-left-fill"></i>
                                    </button>
                                    <div class="carousel-inner h-100">
                                        <div class="carousel-item active text-center date"></div>
                                    </div>
                                    <button class="carouselDate carousel-control carousel-control-next" type="button" data-bs-target="#carouselData" data-bs-slide="next">
                                        <i class="bi bi-caret-right-fill"></i>
                                    </button>
                                </div>
                            </div>
                            <div id="home-content"></div>
                        </div>

                        <!-- 目標細項 Modal -->
                        <div class="modal fade" id="goalDetailModal" data-bs-backdrop="true" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered">
                                <div class="modal-content">
                                    <div class="modal-header d-flex align-items-center justify-content-between">
                                        <div class="d-flex align-items-center justify-content-start">
                                            <h5 class="modal-title item-long-word mw-80">
                                                <span class="modal-title-span">目標細項</span>
                                                <span class="modal-title-input d-none" contenteditable>目標細項</span>
                                            </h5>
                                            <i class="bi bi-pencil-square ms-1 btn-icon" data-action="rename"></i>
                                            <i class="bi bi-check-square ms-1 btn-icon d-none" data-action="rename-confirm"></i>
                                        </div>
                                        <i class="fs-3 bi bi-x-lg" data-bs-dismiss="modal" aria-label="Close"></i>
                                    </div>
                                    <div class="modal-body"></div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-primary" data-action="accountingList">記帳細項</button>
                                        <button type="button" class="btn btn-primary" data-action="accounting">記帳</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- 顏色選擇 Modal -->
                        <div class="modal fade" id="pickrModal" data-bs-backdrop="false" data-bs-keyboard="false">
                            <div class="modal-dialog modal-dialog-centered">
                                <div class="modal-content border-0">
                                    <div class="color-picker-container"></div>
                                </div>
                            </div>
                        </div>
                        <!-- 新增目標 Modal -->
                        <div class="modal fade" id="inputModal" data-bs-backdrop="true" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title">新增目標</h5>
                                        <i class="fs-3 bi bi-x-lg" data-bs-dismiss="modal" aria-label="Close" data-action="close"></i>
                                    </div>
                                    <div class="modal-body">
                                        <form>
                                            <div class="input-group-itemInside m-1">
                                                <input type="text" class="form-control valid-icon-left" name="input-name" placeholder="輸入名稱" required />
                                                <div class="color-picker-btn border border-dark"></div>
                                            </div>
                                            <input type="number" class="form-control m-1" name="input-target-money" min="0" oninput="validity.valid||(value='');" placeholder="輸入目標金額" required />
                                        </form>
                                        <input type="number" class="form-control m-1" name="input-bonus-money" min="0" oninput="validity.valid||(value='');" placeholder="輸入額外金額(非必填)" />
                                        <div class="form-check m-1">
                                            <input class="form-check-input" type="checkbox" value="1" id="chk-set-total-target">
                                            <label class="form-check-label" for="chk-set-total-target" id="label-set-total-target">設為本月總目標</label>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-primary" data-action="copy">複製上個月目標</button>
                                        <button type="button" class="btn btn-primary" data-action="insert-next">新增多筆</button>
                                        <button type="button" class="btn btn-primary" data-action="insert">新增</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 記帳細項 -->
                    <div class="tab-pane fade show" id="accountingDetail">
                        <div class="container-fluid data-content transparent-scroll px-0 h-82vh">
                            <div class="d-flex align-items-end justify-content-start">
                                <div id="carouselAccountingNameData" class="d-flex align-items-center justify-content-between w-100 h1 fw-bold" data-belong="sub" data-bs-touch="false" data-bs-interval="false">
                                    <button class="carouselAccounting carousel-control carousel-control-prev" type="button" data-bs-target="#carouselAccountingNameData" data-bs-slide="prev">
                                        <i class="bi bi-caret-left-fill"></i>
                                    </button>
                                    <div class="carousel-inner h-100">
                                        <div class="carousel-item active text-center accounting">總覽</div>
                                    </div>
                                    <button class="carouselAccounting carousel-control carousel-control-next" type="button" data-bs-target="#carouselAccountingNameData" data-bs-slide="next">
                                        <i class="bi bi-caret-right-fill"></i>
                                    </button>
                                </div>
                            </div>
                            <!--<span class="modal-title-span item-long-word">總覽</span>-->
                            <div id="accountingDetail-content"></div>
                        </div>
                        <!-- 記帳 Modal -->
                        <div class="modal fade" id="accountingModal" data-bs-backdrop="true" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                            <div class="modal-fullscreen modal-dialog modal-dialog-centered h-100vh w-100vw">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title">記帳</h5>
                                        <i class="fs-3 bi bi-x-lg" data-bs-dismiss="modal" aria-label="Close"></i>
                                    </div>
                                    <div class="modal-body">
                                        <select class="form-select goal-options mb-1" name="goal-options" data-old="">
                                            <option selected>請先輸入目標</option>
                                        </select>
                                        <form>
                                            <input type="date" class="form-control mb-1" name="input-date" placeholder="輸入日期" required data-old="" />
                                            <input type="text" class="form-control mb-1" name="input-name" placeholder="輸入記帳名稱" required data-old="" />
                                            <input type="number" class="form-control mb-1" name="input-amount-money" min="0" oninput="validity.valid||(value='');" placeholder="輸入花費目標金額" required data-old />
                                        </form>
                                        <input type="number" class="form-control mb-1" name="input-bonus-money" min="0" oninput="validity.valid||(value='');" placeholder="輸入花費額外金額(非必填)" data-old />
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-danger modify d-none" data-action="delete">刪除</button>
                                        <button type="button" class="btn btn-primary modify d-none" data-action="update">修改</button>
                                        <button type="button" class="btn btn-primary create" data-action="insert-next">新增多筆</button>
                                        <button type="button" class="btn btn-primary create" data-action="insert">新增</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 設定 -->
                    <div class="tab-pane fade show" id="setting">
                        <div class="container-fluid data-content transparent-scroll px-0 h-82vh" id="setting-content">
                            <!--因為可以直接從上方按鈕做切換所以先隱藏此設定 -->
                            <div class="mb-3">
                                <legend>預設首頁</legend>
                                <div class="form-check form-switch form-switch_custom fw-bold">
                                    <label class="form-check-label">記帳細項</label>
                                    <input class="form-switch-input form-switch-input-both ms-1 me-1 h5 mt-2" type="checkbox" id="HomeLocation">
                                    <label class="form-check-label">目標總覽</label>
                                </div>
                                <hr>
                            </div>
                            <div class="mt-3 mb-3">
                                <legend>預設顯示模式</legend>
                                <div class="form-check form-switch form-switch_custom fw-bold">
                                    <label class="form-check-label">個別</label>
                                    <input class="form-switch-input form-switch-input-both ms-1 me-1 h5 mt-2" type="checkbox" id="Mode">
                                    <label class="form-check-label">總額</label>
                                </div>
                                <hr>
                            </div>
                            <div class="mt-3 mb-3">
                                <legend>預設長條圖顯示模式</legend>
                                <div class="form-check form-switch form-switch_custom fw-bold">
                                    <label class="form-check-label">百分比</label>
                                    <input class="form-switch-input form-switch-input-both ms-1 me-1 h5 mt-2" type="checkbox" id="ShowType">
                                    <label class="form-check-label">數字</label>
                                </div>
                                <hr>
                            </div>
                            <div class="mb-3">
                                <legend>新增目標預設排序</legend>
                                <div class="form-check form-switch form-switch_custom fw-bold">
                                    <label class="form-check-label">下方</label>
                                    <input class="form-switch-input form-switch-input-both ms-1 me-1 h5 mt-2" type="checkbox" id="NewItemPosition">
                                    <label class="form-check-label">上方</label>
                                </div>
                                <hr>
                            </div>
                            <div id="setting-debug" class="mb-3">
                                <legend>testing data switch</legend>
                                <div class="form-check form-switch form-switch_custom fw-bold">
                                    <label class="form-check-label">關</label>
                                    <input class="form-switch-input ms-1 me-1 h5 mt-2" type="checkbox" id="DebugMode">
                                    <label class="form-check-label">開</label>
                                </div>
                                <hr>
                            </div>
                        </div>
                    </div>

                    <!-- 匯出 -->
                    <div class="tab-pane fade show" id="export"></div>
                </div>
            </div>

            <div style="height: 1vh;"></div>

            <!-- 下方 nav -->
            <nav data-active="#home">
                <div class="d-flex align-items-center justify-content-around">
                    <div class="nav-item text-center">
                        <a class="nav-link active" href="#" data-tab-target="#home" data-order="0">
                            <i class="fs-2 bi bi-list-task"></i>
                            <span>總覽</span>
                        </a>
                    </div>
                    <div class="nav-item text-center">
                        <a class="nav-link" href="#" data-tab-target="#accountingDetail" data-order="1">
                            <i class="fs-2 bi bi-coin"></i>
                            <span>記帳</span>
                        </a>
                    </div>

                    <div class="nav-item text-center">
                        <button class="menu-circle-button bg-blue"><i class="fs-3 bi bi-plus-lg"></i></button>
                    </div>
                
                    <div class="nav-item text-center">
                        <a class="nav-link" href="#" data-tab-target="#setting" data-order="2">
                            <i class="fs-2 bi bi-gear-fill"></i>
                            <span>設定</span>
                        </a>
                    </div>
                
                    <div class="nav-item text-center">
                        <a class="nav-link" href="#" data-tab-target="#export" data-order="3">
                            <i class="fs-2 bi-file-earmark-arrow-down-fill"></i>
                            <span>匯出</span>
                        </a>
                    </div>
                </div>
            </nav>
        </div>
    </body>
</html>